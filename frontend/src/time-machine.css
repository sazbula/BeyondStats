/* frontend/src/time-machine.css */

/* Fonts ONLY for the time-machine page */
@import url("https://fonts.googleapis.com/css2?family=Fraunces:ital,opsz,wght@0,9..144,300;0,9..144,500;0,9..144,700;1,9..144,400&family=Inter:wght@300;400;500;600&display=swap");

/* âœ… Scope ALL tokens to Timeline page only */
.time-machine {
  /* Era-based color progression */
  --era-past: 35 60% 52%;
  --era-early: 350 25% 55%;
  --era-mid: 165 30% 45%;
  --era-modern: 220 25% 35%;

  /* Core palette */
  --background: 45 30% 96%;
  --foreground: 30 15% 15%;
  --card: 40 25% 94%;
  --card-foreground: 30 15% 15%;
  --popover: 40 25% 94%;
  --popover-foreground: 30 15% 15%;
  --primary: 35 60% 52%;
  --primary-foreground: 45 30% 98%;
  --secondary: 350 25% 55%;
  --secondary-foreground: 45 30% 98%;
  --muted: 40 20% 88%;
  --muted-foreground: 30 10% 45%;
  --accent: 300 18% 16%;
  --accent-foreground: 8 50% 97%;
  --destructive: 0 84.2% 60.2%;
  --destructive-foreground: 210 40% 98%;
  --border: 35 20% 82%;
  --input: 35 20% 82%;
  --ring: 35 60% 52%;
  --radius: 0.75rem;

  /* Timeline specific */
  --timeline-ground: 30 25% 75%;
  --timeline-sky-start: 45 40% 92%;
  --timeline-sky-end: 200 30% 85%;

  /* Character */
  --character-body: 30 15% 25%;
  --character-accent: 35 60% 52%;

  /* Objects */
  --coin-gold: 45 80% 55%;
  --coin-silver: 220 10% 70%;
  --document-cream: 45 40% 92%;
  --document-ink: 30 20% 20%;

  /* Shadows */
  --shadow-soft: 0 4px 20px -4px hsl(30 20% 20% / 0.1);
  --shadow-card: 0 8px 32px -8px hsl(30 20% 20% / 0.15);
  --shadow-float: 0 12px 40px -12px hsl(30 20% 20% / 0.2);

  /* Page base styles */
  background: hsl(var(--background));
  color: hsl(var(--foreground));
  font-family: "Inter", sans-serif;
}

.time-machine :is(h1, h2, h3, h4, h5, h6),
.time-machine .font-display {
  font-family: "Fraunces", serif;
}

/* Ensure borders default to your token */
.time-machine * {
  border-color: hsl(var(--border));
}

/* Timeline world */
.time-machine .timeline-world {
  position: relative;
  overflow: hidden;
  background: linear-gradient(
    to bottom,
    hsl(var(--timeline-sky-start)) 0%,
    hsl(var(--timeline-sky-end)) 60%,
    hsl(var(--timeline-ground)) 100%
  );
}

/* Era backgrounds */
.time-machine .era-past {
  background: linear-gradient(to bottom, hsl(45 50% 88%) 0%, hsl(35 40% 80%) 100%);
}
.time-machine .era-early {
  background: linear-gradient(to bottom, hsl(350 20% 88%) 0%, hsl(340 25% 78%) 100%);
}
.time-machine .era-mid {
  background: linear-gradient(to bottom, hsl(166, 13%, 80%) 0%, hsl(171, 17%, 79%) 100%);
}
.time-machine .era-modern {
  background: linear-gradient(to bottom, hsl(220 20% 90%) 0%, hsl(215 25% 80%) 100%);
}

/* Character styles */
.time-machine .character {
  transition: transform 75ms;
  filter: drop-shadow(0 2px 4px hsl(30 20% 20% / 0.2));
}

.time-machine .character-walking {
  animation: time_machine_walk 0.4s steps(2) infinite;
}

@keyframes time_machine_walk {
  0%,
  100% {
    transform: translateY(0) rotate(-2deg);
  }
  50% {
    transform: translateY(-2px) rotate(2deg);
  }
}

/* Floating objects */
.time-machine .floating-object {
  animation: time_machine_float 4s ease-in-out infinite;
  filter: drop-shadow(0 8px 16px hsl(30 20% 20% / 0.15));
}

@keyframes time_machine_float {
  0%,
  100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-8px);
  }
}

/* Checkpoint cards */
.time-machine .checkpoint-card {
  background: hsl(var(--card) / 0.95);
  backdrop-filter: blur(8px);
  border-radius: 0.75rem;
  padding: 1.5rem;
  box-shadow: var(--shadow-card);
  border: 1px solid hsl(var(--border) / 0.5);
}

/* Coin stacks */
.time-machine .coin {
  border-radius: 9999px;
  box-shadow: inset 0 -2px 4px hsl(30 20% 20% / 0.2),
    0 2px 4px hsl(30 20% 20% / 0.15);
}

.time-machine .coin-gold {
  background: linear-gradient(
    135deg,
    hsl(50 80% 65%) 0%,
    hsl(var(--coin-gold)) 50%,
    hsl(40 70% 45%) 100%
  );
}

.time-machine .coin-silver {
  background: linear-gradient(
    135deg,
    hsl(220 15% 80%) 0%,
    hsl(var(--coin-silver)) 50%,
    hsl(220 10% 55%) 100%
  );
}

/* Document style */
.time-machine .document {
  border-radius: 0.125rem;
  background: linear-gradient(
    135deg,
    hsl(var(--document-cream)) 0%,
    hsl(40 35% 88%) 100%
  );
  box-shadow: var(--shadow-card);
}

/* Scroll hint */
.time-machine .scroll-hint {
  animation: time_machine_pulse_scroll 2s ease-in-out infinite;
}

@keyframes time_machine_pulse_scroll {
  0%,
  100% {
    opacity: 0.6;
    transform: translateX(0);
  }
  50% {
    opacity: 1;
    transform: translateX(8px);
  }
}

/* Ground texture */
.time-machine .ground-layer {
  background: repeating-linear-gradient(
      90deg,
      transparent 0px,
      transparent 40px,
      hsl(30 20% 60% / 0.1) 40px,
      hsl(30 20% 60% / 0.1) 41px
    ),
    linear-gradient(to top, hsl(30 25% 70%) 0%, hsl(35 20% 75%) 100%);
}

/* Timeline track */
.time-machine .timeline-track {
  background: linear-gradient(
    to bottom,
    hsl(30 15% 55%) 0%,
    hsl(30 20% 50%) 50%,
    hsl(30 15% 45%) 100%
  );
}

/* Utilities */
.time-machine .no-scrollbar::-webkit-scrollbar {
  display: none;
}
.time-machine .no-scrollbar {
  -ms-overflow-style: none;
  scrollbar-width: none;
}